# Регрессионная модель оценки стоимости жилого дома

Пример модели, оценивающей стоимость жилого дома на основе его качественных и количественных характеристик. Исходный ноутбук на моей странице на Kaggle: https://www.kaggle.com/ekaterinadranitsyna/house-evaluation

### Подход к определению целевого параметра
Условиями соревнования задача определена как прогнозирование общей стоимости жилого дома. В оценочной деятельсности принято определять удельную стоимость объекта недвижимости в расчете на 1 кв. метр общей площади. Это связано с тем, что размер объекта оказывает влияние на удельную стоимость: чем крупнее объект, тем ниже стоимость за единицу площади. На удельную стоимость также влияет количество этажей в доме: при сопоставимой общей площади одноэтажный дом будет стоить дороже в расчете на единицу площади, чем дом с большим подвалом.

В данном случае я применила этот подход и обучила модель оценивать удельную стоимость жилого дома в расчете на 1 кв. фут общей площади. Для нахождения общей стоимости дома найденная удельная стоимость умножается на общую площадь дома, включая площадь первого и второго этажа и подвала.

### Подход к фильтрации "выбросов"
При обучении модели два объекта учебной выборки резко выделялись из общей массы значительным отклонением прогнозируемой стоимости от фактической. В оценке недвижимости при создании регрессионных моделей принято исключать нетипично дорогие или дешевые объекты, поскольку они не отражают общие закономерности ценообразования на рынке. Как правило, "выбросы" возникают из-за ошибок в описании объектов, наличия каких-то уникальных характеристик, не отраженных в стандартном описании, или особых условий сделки. Для того, чтобы изключить влияние "выбросов" в исходных данных на формируемую регрессионную модель, два объекта с максимальной ошибкой были исключены из обучающей выборки.

### Предварительная обработка данных
Исходные данные содержали 81 столбец в учебной выборке, включая целевой параметр (стоимость дома), и 80 столбцов в тестовой выборке. Размеры учебной и тестовой выборки были сопоставимы (1460 и 1459 строк).

Перед обработкой данных из учебной выборки удалялись столбцы, содержащие ID объекта и его стоимость. В качестве целевого параметра рассчитывалась удельная стоимость дома за 1 кв. фут.

В исходные данные был добавлен столбец, суммирующий площадь подвала, первого и второго этажа. Значения в столбцах, содержащих площади по этажам, были заменены на соответствующие значения доли каждого этажа в общей площади здания. В столбцах, содержащих площадь готовых помещений низкого качества и площадь недостроенных помещений подвала, исходные данные в кв. футах были заменены на долю от общей площади дома и долю от площади подвала соответственно.

Все представленные в массиве данных параметры могут оказывать влияние на стоимость дома. Поэтому было принято решение оставить максимальное количество параметров, исключив только те, в которых имелась значительная доля пропусков (более 100). В остальных случаях пропуски заполнялись средним значением (для числовых параметров) или наиболее частым (для категорийных параметров).

Были рассмотрены 2 модели - RandomForest и GradientBoosting - показавшие сопоставимые результаты. Итоговый прогноз сделан на основе модели RandomForest. Средняя абсолютная ошибка прогноза составила около 3% от средней стоимости дома в учебной выборке. Коэффициент детерминации R2 при расчете цены за кв. фут после удаления единичных "выбросов" близок к 0.95, что является хорошим показателем для регрессионной модели.
